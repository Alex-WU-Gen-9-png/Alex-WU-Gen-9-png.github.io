<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº’åŠ¨æ¢ç´¢ï¼šçœ‹ä¸è§çš„å·¥ç¨‹å¸ˆ (æœ€ç»ˆä¿®æ­£ç‰ˆ)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Harmony -->
    <!-- Application Structure Plan: The application maintains the "hub-and-spoke" model. The main page is a hub for selecting one of six "engineers." This non-linear structure promotes user-led exploration. Each spoke (experiment section) has been updated to follow a "Question -> Interact -> Discover" flow. A prominent "Exploration Question" now introduces each module, aligning with the pedagogical goal of starting from inquiry. This enhances the educational narrative and user engagement. -->
    <!-- Visualization & Content Choices: Based on user feedback, the "Square-Circle Magic" animation has been reverted to the previous, more abstract version which was preferred. The "Liquid Density" simulation retains its improved vertical layering CSS implementation. Other interactive modules remain as they were. This version represents a synthesis of the best-received features from previous iterations, prioritizing user preference for animation style. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #fdfaf6;
            color: #4a4a4a;
        }
        .nav-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .nav-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }
        .section-content {
            display: none;
        }
        .section-content.active {
            display: block;
            animation: fadeIn 0.8s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .btn-primary {
            transition: background-color 0.3s, transform 0.2s;
        }
        .btn-primary:hover {
            transform: scale(1.05);
        }
        .btn-primary:active {
            transform: scale(0.98);
        }
        .question-box {
            background-color: #fffbeb;
            border-left: 4px solid #f59e0b;
        }
        .liquid-layer {
            transition: height 0.8s ease-in-out;
            flex-shrink: 0;
        }
    </style>
</head>
<body class="antialiased">

    <div id="app" class="container mx-auto px-4 py-8 md:py-12">

        <header id="main-header" class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-amber-900 mb-2">çœ‹ä¸è§çš„å·¥ç¨‹å¸ˆ</h1>
            <p class="text-lg md:text-xl text-gray-600">å¹³å‡¡ç°è±¡é‡Œçš„ç¥å¥‡è®¾è®¡è€…</p>
        </header>

        <nav id="engineer-nav" class="grid grid-cols-2 md:grid-cols-3 gap-6 md:gap-8 mb-16">
        </nav>

        <main id="engineer-details">
        </main>

    </div>

    <script>
        const engineers = [
            {
                id: 'color',
                name: 'è‰²å½©å·¥ç¨‹å¸ˆ',
                subtitle: 'åˆ†å­ä¸–ç•Œçš„â€œå˜è£…å¤§å¸ˆâ€',
                icon: 'ğŸ¨',
                color: 'bg-purple-500',
                question: 'ç´«ç”˜è“æ¦¨å‡ºçš„ç´«è‰²æ±æ°´ï¼Œä¸ºä»€ä¹ˆä¸€ç¢°åˆ°é…¸é…¸çš„æŸ æª¬å°±â€˜å®³ç¾è„¸çº¢â€™ï¼Œä¸€ç¢°åˆ°æ»‘æ»‘çš„è‚¥çš‚æ°´åˆä¼šâ€˜å“å¾—è„¸å‘ç»¿â€™å‘¢ï¼Ÿå®ƒæ˜¯ä¸æ˜¯ä¼šçœ‹äººâ€˜å˜è„¸â€™å‘€ï¼Ÿ',
                principle: 'å“ˆå“ˆï¼Œå› ä¸ºå®ƒèº«ä½“é‡Œä½ç€ä¸€ä½â€˜å˜è‰²å°ç²¾çµâ€™ï¼ˆèŠ±é’ç´ ï¼‰ï¼è¿™ä¸ªå°ç²¾çµå¯¹ç¯å¢ƒç‰¹åˆ«æ•æ„Ÿï¼Œåœ¨é…¸å’Œç¢±è¿™ä¸¤ç§ä¸åŒçš„â€˜æ´¾å¯¹â€™é‡Œï¼Œå®ƒä¼šæ”¹å˜è‡ªå·±çš„â€˜é€ å‹â€™ã€‚é€ å‹ä¸€å˜ï¼Œå®ƒåå°„åˆ°æˆ‘ä»¬çœ¼ç›é‡Œçš„å…‰å°±ä¸ä¸€æ ·äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±çœ‹åˆ°äº†å®ƒåœ¨â€˜å˜è„¸â€™å•¦ï¼',
                life_connection: 'èƒƒé…¸è¿‡å¤šå–è‹æ‰“æ°´ï¼ˆé…¸ç¢±ä¸­å’Œï¼‰ã€ç»£çƒèŠ±æ ¹æ®åœŸå£¤é…¸ç¢±æ€§å¼€å‡ºä¸åŒé¢œè‰²çš„èŠ±ã€‚'
            },
            {
                id: 'cleaning',
                name: 'æ¸…æ´å·¥ç¨‹å¸ˆ',
                subtitle: 'æ²¹æ±¡çš„â€œé‡‘ç‰ŒæŠ“æ•å¸ˆâ€',
                icon: 'ğŸ§¼',
                color: 'bg-sky-500',
                question: 'æ²¹ä¹ä¹çš„è„ç›˜å­ï¼Œåªç”¨æ°´å†²å°±åƒåœ¨ç»™å®ƒâ€˜æŒ ç—’ç—’â€™ï¼Œæ ¹æœ¬å†²ä¸å¹²å‡€ã€‚å¯ä¸ºä»€ä¹ˆæ»´ä¸Šå‡ æ»´æ´—æ´ç²¾ï¼Œæ²¹æ±¡å¤§å†›å°±ç«‹åˆ»â€˜ç¼´æ¢°æŠ•é™â€™ï¼Œè¢«æ°´è½»æ¾å¸¦èµ°äº†å‘¢ï¼Ÿ',
                principle: 'å› ä¸ºæ´—æ´ç²¾æ´¾å‡ºäº†æ— æ•°ä¸ªâ€˜åŒé¢ç‰¹å·¥â€™å°åˆ†å­ï¼å®ƒä»¬ä¸€åªæ‰‹ç‰¹åˆ«å–œæ¬¢æ‹‰ç€æ²¹ï¼ˆäº²æ²¹ï¼‰ï¼Œå¦ä¸€åªæ‰‹åˆç‰¹åˆ«å–œæ¬¢æ‹‰ç€æ°´ï¼ˆäº²æ°´ï¼‰ã€‚å®ƒä»¬ä¼šç”¨â€˜äº²æ²¹æ‰‹â€™æŠŠæ²¹æ±¡å›¢å›¢æŠ±ä½ï¼Œç„¶åè®©â€˜äº²æ°´æ‰‹â€™æ‹‰ç€æ°´ï¼Œå¤§å–Šä¸€å£°â€˜å†²å•Šï¼â€™ï¼Œå°±æŠŠæ²¹æ±¡æ•´ä¸ªæ‹–ä¸‹æ°´å•¦ï¼',
                life_connection: 'æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„æ´—è¡£æ¶²ã€æ´—æ‰‹æ¶²ã€è‚¥çš‚ç­‰ï¼Œéƒ½è¿ç”¨äº†è¿™ä½æ¸…æ´å·¥ç¨‹å¸ˆçš„æœ¬é¢†æ¥å»é™¤å„ç§æ±¡æ¸ã€‚'
            },
            {
                id: 'liquid',
                name: 'æ¶²ä½“å»ºç­‘å¸ˆ',
                subtitle: 'ç”¨é‡é‡è§„åˆ’ä¸–ç•Œçš„ç§©åº',
                icon: 'ğŸ—ï¸',
                color: 'bg-teal-500',
                question: 'ä¸ºä»€ä¹ˆå¾€ä¸€æ¯æ°´é‡Œå€’æ²¹ï¼Œæ²¹ä¼šæµ®åœ¨ä¸Šé¢ï¼›å€’èœ‚èœœï¼Œèœ‚èœœåˆä¼šæ²‰åˆ°æ°´åº•ï¼Ÿå®ƒä»¬æ˜æ˜éƒ½æ˜¯æ¶²ä½“ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ä¹–ä¹–åœ°æ··åˆåœ¨ä¸€èµ·ï¼Œéè¦åˆ†å‡ºä¸ªâ€˜æ¥¼ä¸Šæ¥¼ä¸‹â€™å‘¢ï¼Ÿ',
                principle: 'å› ä¸ºæ¯ç§æ¶²ä½“éƒ½æœ‰è‡ªå·±çš„â€˜éšå½¢ä½“é‡â€™ï¼Œç§‘å­¦å®¶å«å®ƒâ€˜å¯†åº¦â€™ã€‚åœ¨åŒæ ·å¤§å°çš„æˆ¿é—´é‡Œï¼ˆåŒæ ·ä½“ç§¯ï¼‰ï¼Œèœ‚èœœæ˜¯ä¸ªâ€˜å¤§èƒ–å­â€™ï¼Œæ°´æ˜¯â€˜æ ‡å‡†èº«æâ€™ï¼Œæ²¹æ˜¯ä¸ªâ€˜å°ç˜¦å­â€™ã€‚æ‰€ä»¥â€˜å¤§èƒ–å­â€™èœ‚èœœè‚¯å®šä½æœ€åº•ä¸‹çš„åœ°ä¸‹å®¤ï¼Œâ€˜å°ç˜¦å­â€™æ²¹å°±è½»æ¾åœ°æµ®åœ¨æœ€é¡¶å±‚å•¦ï¼',
                life_connection: 'åˆ¶ä½œç²¾ç¾çš„åˆ†å±‚é¸¡å°¾é…’ã€æš´é›¨åæ²³æ°´æµ‘æµŠåˆ†å±‚ã€æ­»æµ·èƒ½è®©äººæµ®èµ·æ¥ã€‚'
            },
            {
                id: 'energy',
                name: 'æ¸©åº¦é­”æœ¯å¸ˆ',
                subtitle: 'è§¦æ‘¸â€œæ¸©åº¦çš„é­”æœ¯â€',
                icon: 'ğŸ”¥',
                color: 'bg-orange-500',
                question: 'æœ‰ä¸€ç§ç¥å¥‡çš„æ°´ï¼Œçœ‹èµ·æ¥æ™®æ™®é€šé€šï¼Œä½†åªè¦ä½ ç”¨æ‰‹æŒ‡è½»è½»ç¢°ä¸€ä¸‹ï¼Œå®ƒå°±ä¼šåœ¨ç¬é—´â€˜ç»“å†°â€™ï¼Œè¿˜ä¼šä»å†°å‡‰å˜å¾—æš–æš–çš„ï¼Œè¿™éš¾é“æ˜¯ä¸€ç§å£è¢‹é‡Œçš„é­”æ³•å—ï¼Ÿ',
                principle: 'è¿™ä¸æ˜¯é­”æ³•ï¼Œæ˜¯åˆ†å­ä»¬çš„â€˜é›†ä½“å¹¿æ’­æ“â€™ï¼åœ¨é‚£ç§ç¥å¥‡çš„æ°´é‡Œï¼ˆè¿‡é¥±å’Œæº¶æ¶²ï¼‰ï¼Œæ— æ•°åˆ†å­éƒ½æŒ¤åœ¨ä¸€èµ·ï¼Œå‡†å¤‡å¥½äº†ä½†æ²¡å¬åˆ°å£ä»¤ã€‚ä½ çš„æ‰‹æŒ‡å°±åƒå‘ä»¤å‘˜ï¼Œä¸€å£°ä»¤ä¸‹ï¼Œæ‰€æœ‰åˆ†å­ç«‹åˆ»â€˜ç«‹æ­£ã€çœ‹é½â€™ï¼Œæ’å¥½äº†æ•´é½çš„é˜Ÿä¼ï¼ˆç»“æ™¶ï¼‰ã€‚å¤§å®¶ä¸€èµ·åŠ¨èµ·æ¥ï¼Œèº«ä¸Šå°±æ•£å‘å‡ºäº†çƒ­é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æ„Ÿè§‰åˆ°æš–å’Œå•¦ï¼',
                life_connection: 'å†¬å¤©å¸¸ç”¨çš„â€œæš–æ‰‹å®â€å°±æ˜¯åˆ©ç”¨äº†è¿™ä¸ªåŸç†ã€‚åŒæ ·ï¼Œé›ªå¤©æ’’ç›èé›ªï¼Œåˆ™æ˜¯ä¸€ä¸ªå¸çƒ­è¿‡ç¨‹ï¼Œæ˜¯èƒ½é‡é­”æœ¯çš„å¦ä¸€ç§è¡¨ç°ã€‚'
            },
            {
                id: 'light',
                name: 'å…‰å½±å·¥ç¨‹å¸ˆ',
                subtitle: 'ä¸ºå…ƒç´ ç‚¹äº®ä¸“å±â€œä¿¡å·ç¯â€',
                icon: 'ğŸ†',
                color: 'bg-red-500',
                question: 'è¿‡å¹´æ”¾çš„çƒŸèŠ±ä¸ºä»€ä¹ˆæ˜¯äº”é¢œå…­è‰²çš„ï¼Ÿéš¾é“æ˜¯ä»™å¥³åœ¨å¤©ä¸Šæ´’ä¸‹äº†å½©è‰²çš„ç²‰æœ«å—ï¼Ÿä¸ºä»€ä¹ˆæ™®æ™®é€šé€šçš„ç«è‹—ï¼Œä¹Ÿèƒ½çƒ§å‡ºç»¿è‰²ã€çº¢è‰²çš„å…‰å‘¢ï¼Ÿ',
                principle: 'æ¯ä¸€ç§é‡‘å±å…ƒç´ ï¼Œéƒ½è—ç€è‡ªå·±ç‹¬ç‰¹çš„â€˜é¢œè‰²å¯†ç â€™ã€‚å½“å®ƒä»¬è¢«ç«åŠ çƒ­æ—¶ï¼Œå°±ä¼šéå¸¸å…´å¥‹ï¼Œåƒæ˜¯åœ¨å¼€æ´¾å¯¹ä¸€æ ·è·³èµ·èˆæ¥ã€‚è·³å®Œèˆå›åˆ°è‡ªå·±çš„åº§ä½æ—¶ï¼Œå®ƒä»¬å°±ä¼šæŠŠè‡ªå·±ç‹¬ç‰¹çš„é¢œè‰²å…‰èŠ’é‡Šæ”¾å‡ºæ¥ï¼é“œå…ƒç´ é‡Šæ”¾ç»¿å…‰ï¼Œé”¶å…ƒç´ é‡Šæ”¾çº¢å…‰ï¼ŒåŒ–å­¦å®¶å°±æ˜¯åˆ©ç”¨è¿™ä¸ªç§˜å¯†ï¼ŒæŠŠå®ƒä»¬åšæˆäº†äº”å½©ç¼¤çº·çš„çƒŸèŠ±ï¼',
                life_connection: 'èŠ‚æ—¥é‡Œäº”å½©ç¼¤çº·çš„çƒŸèŠ±ï¼Œå°±æ˜¯åŒ–å­¦å®¶åˆ©ç”¨ä¸åŒé‡‘å±çš„ç„°è‰²ååº”ç²¾å¿ƒè®¾è®¡çš„ã€‚è·¯ç¯å‘å‡ºçš„é»„å…‰ï¼Œä¹Ÿå¸¸å¸¸æ˜¯åˆ©ç”¨é’ å…ƒç´ çš„ç„°è‰²ååº”ã€‚'
            },
            {
                id: 'space',
                name: 'ç©ºé—´é­”æœ¯å¸ˆ',
                subtitle: 'ç”¨ç»´åº¦åˆ›é€ â€œæ— é™çš„å¥‡è¿¹â€',
                icon: 'ğŸª„',
                color: 'bg-blue-500',
                question: 'ä¸€æšå¤§ç¡¬å¸ï¼Œæ€ä¹ˆæ‰èƒ½é’»è¿‡ä¸€ä¸ªæ¯”å®ƒå°çš„æ–¹æ´ï¼Œè€Œä¸”è¿˜ä¸èƒ½æŠŠçº¸æ’•ç ´ï¼Ÿéš¾é“è¿™å¼ çº¸ä¼šåƒå˜é­”æœ¯ä¸€æ ·ï¼Œç»™ç¡¬å¸è®©å‡ºä¸€æ¡ç§˜å¯†é€šé“å—ï¼Ÿ',
                principle: 'åœ¨å¹³å¹³çš„çº¸ä¸Šï¼Œæ–¹æ´æ˜¯ä¸ªâ€˜æ­»â€™çš„é—¨ã€‚ä½†å½“æˆ‘ä»¬æŠŠå®ƒå¯¹æŠ˜å¹¶å¼¯æ›²ï¼Œå®ƒå°±ä¸å†æ˜¯ä¸€ä¸ªâ€˜å¹³é¢â€™å›¾å½¢ï¼Œè€Œå˜æˆäº†ä¸€ä¸ªâ€˜ç«‹ä½“â€™çš„â€˜æ‰­æ›²çš„é—¨â€™ï¼åœ¨è¿™ä¸ªç«‹ä½“çš„é—¨é‡Œï¼ŒåŸæ¥çš„å¯¹è§’çº¿è¢«æˆ‘ä»¬â€˜æ’‘å¼€â€™æˆäº†æ–°çš„é€šé“å£ï¼æ‰€ä»¥ï¼Œç›´å¾„ä¸º2çš„åœ†ç›˜å°±èƒ½åˆšåˆšå¥½é€šè¿‡è¿™ä¸ªè¢«æˆ‘ä»¬â€˜å˜â€™å‡ºæ¥çš„æ–°é€šé“å•¦ï¼',
                life_connection: 'è¿™ä¸ªå°é­”æœ¯å‘Šè¯‰æˆ‘ä»¬ï¼Œæœ‰æ—¶å€™æ¢ä¸ªè§’åº¦ã€æŠŠäºŒç»´å˜ä¸‰ç»´ï¼Œå¾ˆå¤šâ€˜ä¸å¯èƒ½â€™çš„é—®é¢˜å°±èƒ½è§£å†³ï¼'
            }
        ];

        const navContainer = document.getElementById('engineer-nav');
        const detailsContainer = document.getElementById('engineer-details');

        function renderNav() {
            engineers.forEach(eng => {
                const card = document.createElement('div');
                card.className = `nav-card p-6 rounded-xl shadow-md cursor-pointer text-white ${eng.color}`;
                card.innerHTML = `
                    <div class="text-4xl mb-4">${eng.icon}</div>
                    <h3 class="text-xl font-bold">${eng.name}</h3>
                    <p class="text-sm opacity-90">${eng.subtitle}</p>
                `;
                card.addEventListener('click', () => showDetails(eng.id));
                navContainer.appendChild(card);
            });
        }

        function showDetails(id) {
            const engineer = engineers.find(e => e.id === id);
            if (!engineer) return;

            detailsContainer.innerHTML = '';
            const contentDiv = document.createElement('div');
            contentDiv.className = 'section-content bg-white p-6 md:p-8 rounded-2xl shadow-lg';
            
            let interactiveHTML = '';
            switch (engineer.id) {
                case 'color':
                    interactiveHTML = `
                        <div class="w-full h-48 rounded-lg border-2 border-gray-200 flex items-center justify-center transition-colors duration-500" id="color-box" style="background-color: #9370DB;">
                            <span class="text-white font-bold text-xl" id="color-text">ç´«ç”˜è“æ± (ä¸­æ€§)</span>
                        </div>
                        <div class="flex justify-center gap-4 mt-4">
                            <button onclick="changeColor('acid')" class="btn-primary bg-pink-500 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded-full">æ»´å…¥æŸ æª¬æ± (é…¸)</button>
                            <button onclick="changeColor('base')" class="btn-primary bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-full">æ»´å…¥è‚¥çš‚æ°´ (ç¢±)</button>
                            <button onclick="changeColor('neutral')" class="btn-primary bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-full">é‡ç½®</button>
                        </div>
                    `;
                    break;
                case 'cleaning':
                    interactiveHTML = `
                        <div id="plate" class="relative w-48 h-48 md:w-64 md:h-64 mx-auto bg-gray-100 rounded-full border-4 border-gray-300 overflow-hidden">
                        </div>
                        <div class="flex justify-center mt-4">
                            <button id="clean-btn" class="btn-primary bg-sky-500 hover:bg-sky-600 text-white font-bold py-2 px-4 rounded-full">æ»´å…¥æ´—æ´ç²¾</button>
                        </div>
                    `;
                    break;
                case 'liquid':
                    interactiveHTML = `
                        <div class="flex justify-center items-center gap-4">
                             <div id="beaker-container" class="w-40 h-64 bg-gray-100 border-x-4 border-b-4 border-gray-300 rounded-b-xl flex flex-col-reverse">
                                <!-- Layers will be injected here -->
                             </div>
                        </div>
                        <div class="flex flex-wrap justify-center gap-2 mt-4">
                            <button data-liquid="honey" class="btn-primary bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-3 rounded-full text-sm">å€’å…¥èœ‚èœœ</button>
                            <button data-liquid="water" class="btn-primary bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-3 rounded-full text-sm">å€’å…¥æ°´</button>
                            <button data-liquid="oil" class="btn-primary bg-yellow-400 hover:bg-yellow-500 text-gray-800 font-bold py-2 px-3 rounded-full text-sm">å€’å…¥æ²¹</button>
                            <button id="reset-liquid-btn" class="btn-primary bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-3 rounded-full text-sm">é‡ç½®</button>
                        </div>
                    `;
                    break;
                case 'energy':
                    interactiveHTML = `
                        <div class="flex flex-col md:flex-row items-center justify-center gap-8">
                            <div id="beaker" class="w-40 h-48 bg-blue-100 border-b-8 border-blue-300 rounded-t-lg relative overflow-hidden flex items-center justify-center text-blue-800 font-bold">
                                <div id="crystals" class="absolute inset-0 bg-blue-300 opacity-0" style="transition: opacity 1s ease;"></div>
                                <span>ç¥å¥‡çš„æ°´</span>
                            </div>
                            <div id="thermometer" class="w-8 h-48 bg-gray-200 rounded-full relative">
                                <div id="mercury" class="absolute bottom-0 left-0 right-0 bg-red-500 rounded-full" style="height: 10%; transition: height 1s ease;"></div>
                            </div>
                        </div>
                        <div class="flex justify-center mt-4">
                            <button id="trigger-crystal" class="btn-primary bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full">è§¦æ‘¸ä¸€ä¸‹</button>
                        </div>
                    `;
                    break;
                case 'light':
                    interactiveHTML = `
                        <div class="flex flex-col items-center">
                            <div id="flame" class="w-24 h-40 rounded-t-full rounded-b-lg" style="background: radial-gradient(ellipse at bottom, #fde047 20%, #f97316 60%, transparent 100%); transition: background 0.5s ease;"></div>
                            <div class="w-4 h-12 bg-gray-400"></div>
                            <div class="w-20 h-4 bg-gray-500 rounded"></div>
                        </div>
                         <div class="flex flex-wrap justify-center gap-2 mt-4">
                            <button onclick="changeFlame('sr')" class="btn-primary bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-3 rounded-full text-sm">çƒ§ä¸€ä¸‹å«é”¶(Sr)çš„ç›</button>
                            <button onclick="changeFlame('cu')" class="btn-primary bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-3 rounded-full text-sm">çƒ§ä¸€ä¸‹å«é“œ(Cu)çš„ç›</button>
                            <button onclick="changeFlame('default')" class="btn-primary bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-3 rounded-full text-sm">æ™®é€šç«è‹—</button>
                        </div>
                    `;
                    break;
                case 'space':
                    interactiveHTML = `
                        <div class="h-64 flex flex-col items-center justify-center space-y-4" style="perspective: 800px;">
                            <div id="magic-coin" class="w-20 h-20 bg-yellow-400 border-4 border-yellow-600 rounded-full flex items-center justify-center text-yellow-800 font-bold text-lg" style="transition: transform 1s ease-in-out;">åœ†ç›˜</div>
                            <div id="magic-paper" class="w-40 h-40 bg-white border-2 border-gray-300 flex items-center justify-center" style="transform-style: preserve-3d; transition: transform 1s ease-in-out;">
                                <div id="magic-hole" class="w-10 h-10 bg-gray-800"></div>
                            </div>
                             <div id="magic-message" class="text-center text-red-500 font-bold h-6"></div>
                        </div>
                        <div class="flex justify-center gap-4 mt-4">
                            <button id="pass-btn" class="btn-primary bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-full">å°è¯•ç©¿è¿‡</button>
                            <button id="fold-btn" class="btn-primary bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full">æ–½å±•ç©ºé—´é­”æ³•</button>
                        </div>
                    `;
                    break;
            }
            
            contentDiv.innerHTML = `
                <div class="flex justify-between items-start mb-4">
                    <h2 class="text-3xl font-bold ${engineer.color.replace('bg','text')}-600">${engineer.name}</h2>
                    <button class="text-gray-400 hover:text-gray-600 text-2xl" onclick="closeDetails()">&times;</button>
                </div>

                <div class="question-box p-4 mb-6 rounded-lg">
                    <p class="text-gray-700 italic">ğŸ¤” ${engineer.question}</p>
                </div>
                
                <div class="bg-gray-50 p-4 md:p-6 rounded-lg mb-6">
                    <h4 class="font-bold text-lg mb-4 text-center">åŠ¨æ‰‹è¯•ä¸€è¯•</h4>
                    ${interactiveHTML}
                </div>

                <div class="grid md:grid-cols-2 gap-6 text-center">
                    <div class="p-4">
                        <h4 class="font-bold text-lg mb-2">ğŸ’¡ åŸç†è§£å¯†</h4>
                        <p class="text-sm text-gray-600">${engineer.principle}</p>
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold text-lg mb-2">ğŸŒ ç”Ÿæ´»è”ç³»</h4>
                        <p class="text-sm text-gray-600">${engineer.life_connection}</p>
                    </div>
                </div>
            `;
            detailsContainer.appendChild(contentDiv);
            
            requestAnimationFrame(() => {
                contentDiv.classList.add('active');
                document.getElementById('engineer-details').scrollIntoView({ behavior: 'smooth' });
                
                if (engineer.id === 'cleaning') setupCleaningSim();
                if (engineer.id === 'liquid') setupLiquidSim();
                if (engineer.id === 'energy') setupEnergySim();
                if (engineer.id === 'space') setupSpaceMagicSim();
            });
        }

        function closeDetails() {
            detailsContainer.innerHTML = '';
            document.getElementById('main-header').scrollIntoView({ behavior: 'smooth' });
        }
        
        function changeColor(type) {
            const box = document.getElementById('color-box');
            const text = document.getElementById('color-text');
            if (type === 'acid') {
                box.style.backgroundColor = '#F472B6';
                text.innerText = 'å˜ä¸ºç²‰çº¢è‰² (é…¸æ€§)';
            } else if (type === 'base') {
                box.style.backgroundColor = '#34D399';
                text.innerText = 'å˜ä¸ºè“ç»¿è‰² (ç¢±æ€§)';
            } else {
                box.style.backgroundColor = '#9370DB';
                text.innerText = 'ç´«ç”˜è“æ± (ä¸­æ€§)';
            }
        }

        function setupCleaningSim() {
            const plate = document.getElementById('plate');
            const btn = document.getElementById('clean-btn');
            let oilDroplets = [];

            function resetOil() {
                plate.innerHTML = '';
                oilDroplets = [];
                for (let i = 0; i < 15; i++) {
                    const oil = document.createElement('div');
                    oil.className = 'absolute w-4 h-4 bg-yellow-400 rounded-full';
                    oil.style.left = `${Math.random() * 85}%`;
                    oil.style.top = `${Math.random() * 85}%`;
                    oil.style.transition = 'transform 1.5s ease-out, opacity 1.5s ease-out';
                    plate.appendChild(oil);
                    oilDroplets.push(oil);
                }
            }
            
            btn.onclick = () => {
                if(oilDroplets.length === 0) resetOil();
                
                setTimeout(() => {
                    oilDroplets.forEach(oil => {
                        oil.style.transform = `translate(${(Math.random() - 0.5) * 200}px, ${(Math.random() - 0.5) * 200}px) scale(0.5)`;
                        oil.style.opacity = '0';
                    });
                    setTimeout(() => {
                        oilDroplets = [];
                    }, 1500);
                }, 100);
            };
            
            resetOil();
        }

        function setupLiquidSim() {
            const beaker = document.getElementById('beaker-container');
            const liquids = {
                honey: { id: 'honey', color: 'rgba(180, 83, 9, 1)', blend: 'rgba(180, 83, 9, 0.8)', order: 3 },
                water: { id: 'water', color: 'rgba(59, 130, 246, 1)', blend: 'rgba(59, 130, 246, 0.8)', order: 2 },
                oil: { id: 'oil', color: 'rgba(250, 204, 21, 1)', blend: 'rgba(250, 204, 21, 0.8)', order: 1 }
            };

            function pourLiquid(liquidId) {
                if (document.getElementById(liquidId)) return;

                const liquid = liquids[liquidId];
                const layer = document.createElement('div');
                layer.id = liquid.id;
                layer.dataset.order = liquid.order;
                layer.className = 'liquid-layer w-full';
                layer.style.height = '0%';
                layer.style.background = `linear-gradient(to bottom, ${liquid.blend} 0%, ${liquid.color} 5%, ${liquid.color} 95%, ${liquid.blend} 100%)`;
                
                beaker.appendChild(layer);

                const layers = Array.from(beaker.children);
                layers.sort((a, b) => a.dataset.order - b.dataset.order);
                layers.forEach(l => beaker.appendChild(l));

                const totalLayers = beaker.children.length;
                const heightPerLayer = 100 / totalLayers;
                
                layers.forEach(l => {
                    l.style.height = `${heightPerLayer}%`;
                });
            }

            document.querySelectorAll('[data-liquid]').forEach(button => {
                button.onclick = () => pourLiquid(button.dataset.liquid);
            });

            document.getElementById('reset-liquid-btn').onclick = () => {
                beaker.innerHTML = '';
            };
        }

        function setupEnergySim() {
            const btn = document.getElementById('trigger-crystal');
            const crystals = document.getElementById('crystals');
            const mercury = document.getElementById('mercury');
            
            let triggered = false;
            btn.onclick = () => {
                if (triggered) {
                    crystals.style.opacity = '0';
                    mercury.style.height = '10%';
                } else {
                    crystals.style.opacity = '1';
                    mercury.style.height = '80%';
                }
                triggered = !triggered;
                btn.innerText = triggered ? 'é‡ç½®' : 'è§¦æ‘¸ä¸€ä¸‹';
            };
        }

        function changeFlame(type) {
            const flame = document.getElementById('flame');
            const colors = {
                sr: 'radial-gradient(ellipse at bottom, #fca5a5 20%, #ef4444 60%, transparent 100%)',
                cu: 'radial-gradient(ellipse at bottom, #6ee7b7 20%, #10b981 60%, transparent 100%)',
                default: 'radial-gradient(ellipse at bottom, #fde047 20%, #f97316 60%, transparent 100%)'
            };
            flame.style.background = colors[type];
        }

        function setupSpaceMagicSim() {
            const coin = document.getElementById('magic-coin');
            const paper = document.getElementById('magic-paper');
            const message = document.getElementById('magic-message');
            const passBtn = document.getElementById('pass-btn');
            const foldBtn = document.getElementById('fold-btn');
            let isFolded = false;

            function reset() {
                isFolded = false;
                message.innerText = '';
                coin.style.transform = 'translateY(0) scale(1)';
                paper.style.transform = 'rotateX(0deg) rotateY(0deg)';
                foldBtn.disabled = false;
                passBtn.disabled = false;
                foldBtn.innerText = 'æ–½å±•ç©ºé—´é­”æ³•';
            }
            
            passBtn.onclick = () => {
                if (isFolded) return;
                message.innerText = 'è¿‡ä¸å»ï¼åœ†ç›˜æ¯”æ´å£å¤§ã€‚';
                setTimeout(() => message.innerText = '', 2000);
            };

            foldBtn.onclick = () => {
                if (isFolded) {
                    reset();
                    return;
                }
                isFolded = true;
                passBtn.disabled = true;
                message.innerText = 'çº¸å¼ å¼¯æ›²ï¼Œåˆ›é€ äº†æ–°çš„ç»´åº¦ï¼';
                paper.style.transform = 'rotateX(70deg) rotateY(20deg)';
                setTimeout(() => {
                    coin.style.transform = 'translateY(180px) scale(0.5)';
                }, 500);
                setTimeout(() => {
                    message.innerText = 'æˆåŠŸç©¿è¿‡ï¼';
                    foldBtn.innerText = 'é‡ç½®é­”æœ¯';
                }, 1500);
            };
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderNav();
        });
    </script>

</body>
</html>
